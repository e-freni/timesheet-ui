<!-- Title and close -->
<div class='edit-user-dialog-container'>
  <div class='dialog-close'>
    <icon-close (click)='back()' [height]='10' [width]='10' class='ml-auto cursor-pointer'></icon-close>
  </div>
  <h1 class='dialog-title'>{{isEdit ? "Modifica utente" : "Aggiungi nuovo utente"}}</h1>
  <form (ngSubmit)='addUserRequest()' [formGroup]='userForm'
        class='w-full form-1' role='form'>
    <!-- role field -->
    <div *ngIf='!isEdit' class='main-container w-10/12'>
      <p>Ruolo</p>
      <ng-select
        [clearable]='false'
        [formControlName]="'role'"
        [items]='availableRoles'
        class='w-1/3 items-center justify-center'
        type='text'></ng-select>
    </div>
    <div class='edit-user-double-input-container w-full w-10/12'>
      <!-- firstname field -->
      <div class='edit-user-single-input-container'>
        <p>Nome</p>
        <input
          [formControlName]="'firstName'"
          class='generic-input'
          type='text' />
      </div>
      <!-- lastname field -->
      <div class='edit-user-single-input-container'>
        <p>Cognome</p>
        <input
          [formControlName]="'lastName'"
          class='generic-input'
          type='text' />
      </div>
    </div>
    <div class='edit-user-double-input-container w-full w-10/12'>
      <div class='edit-user-single-input-container'>
        <!-- username field -->
        <p>Username</p>
        <input
          [formControlName]="'username'"
          class='generic-input'
          type='text' />
      </div>
      <!-- email field -->
      <div class='edit-user-single-input-container'>
        <p>Email</p>
        <input
          [formControlName]="'email'"
          class='generic-input'
          type='text' />
      </div>
    </div>
    <!-- Actions -->
    <div class='edit-user-actions'>
      <button [disabled]='this.userForm.invalid || isLoading' class='submit-button' type='submit'>
        {{isEdit ? "Modifica Utente" : "Aggiungi utente"}}
        <app-spinning-circle *ngIf='isLoading' [color]="'blue'"></app-spinning-circle>
      </button>
      <button (click)='back()' class='back-button' type='button'>Indietro</button>
    </div>
  </form>
</div>
